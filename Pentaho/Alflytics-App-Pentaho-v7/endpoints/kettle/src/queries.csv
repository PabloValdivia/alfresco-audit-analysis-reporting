dbType;queryId;query
hsql;alfrescoIds;SELECT ID + '' AS "instanceId" FROM DWH_ALF_DIM_INSTANCES WHERE IS_ACTIVE='Y'
hsql;alfrescoServer;SELECT DESCRIPTION + '' AS "description", LOGIN + '' as "login", PASSWORD + '' AS "password", PROTOCOL + '://' + HOST + ':' + PORT AS "baseUrl", USER_LIMIT + 0 AS "userLimit", AUDIT_LIMIT + 0 AS "auditLimit", NODE_LIMIT + 0 AS "nodeLimit", WORKFLOW_LIMIT + 0 AS "workflowLimit" FROM DWH_ALF_DIM_INSTANCES WHERE ID = ${instanceId}
hsql;alfrescoClasses;SELECT C.ID+0 AS CLASS_ID,C.NAME+'' AS CLASS_NAME,C.IS_FILE+'' AS CLASS_IS_FILE,C.IS_FOLDER+'' AS CLASS_IS_FOLDER,C.IS_ASPECT+'' AS CLASS_IS_ASPECT,C.IS_ROOT+'' AS CLASS_IS_ROOT,C.OPE_TABLE_NAME+'' AS CLASS_OPE_TABLE_NAME,C.DWH_TABLE_NAME+'' AS CLASS_DWH_TABLE_NAME,C.ORDINAL,C.INSTANCE_ID,C.IS_ACTIVE+'' AS CLASS_IS_ACTIVE,P.ID,P.NAME,P.TYPE,P.IS_MULTIVALUE,P.OPE_TABLE_NAME,P.DWH_TABLE_NAME,P.JSON_PATH,P.FIELD_NAME,P.IS_ACTIVE FROM "DWH_ALF_CLASSES" AS "C" JOIN "DWH_ALF_CLASS_PROPERTIES" AS "P" ON P.CLASS_ID = C.ID WHERE C.INSTANCE_ID=${instanceId} AND C."IS_ACTIVE"='Y' ORDER BY C.ORDINAL ASC 
hsql;dataQualityLog;INSERT INTO DWH_DATA_QUALITY (SOURCE_TYPE,SOURCE_ID,BATCH_ID,ENTITIES,LAYER,VALUE) VALUES ('${sourceType}',${sourceId},'${batchId}','${entities}','${layer}',${counter})
hsql;stagingRepositoryTruncateCategories;TRUNCATE TABLE STG_ALF_CATEGORIES
hsql;stagingRepositoryTruncateNodes;TRUNCATE TABLE STG_ALF_NODES
hsql;stagingUsersTruncate;TRUNCATE TABLE STG_ALF_USERS
hsql;stagingCategoriesCount;SELECT COUNT(*) AS "counter" FROM STG_ALF_CATEGORIES WHERE INSTANCE_ID=${sourceId}
hsql;stagingNodesCount;SELECT COUNT(*) AS "counter" FROM STG_ALF_NODES WHERE INSTANCE_ID=${sourceId}
hsql;stagingUsersCount;SELECT COUNT(*) AS "counter" FROM STG_ALF_USERS WHERE INSTANCE_ID=${sourceId}
hsql;operationalRepositoryNodes;select INSTANCE_ID, IS_MODIFIED, ENTRY from STG_ALF_NODES where INSTANCE_ID=${instanceId}
hsql;warehouseRepositoryMaxDt;SELECT '2001-01-01T00:00:00.000Z' AS "dt" FROM (VALUES(0))
hsql;warehouseUsersCount;SELECT COUNT(*) AS "counter" FROM DWH_ALF_DIM_USERS WHERE INSTANCE_ID=${sourceId}
hsql;warehouseAlfrescoUsers;SELECT ID + '' AS "username", FIRST_NAME + '' AS "firstName", LAST_NAME + '' AS "lastName", EMAIL + '' AS "email", JOB_TITLE + '' AS "jobTitle", ORGANIZATION + '' AS "organization", CASEWHEN((ENABLED + '') = 'true', 'Y', 'N') AS "isEnabled", CASEWHEN((EMAIL_NOTIFICATIONS_ENABLED + '') = 'true', 'Y', 'N') AS "isEmailNotificationsEnabled", INSTANCE_ID + 0 AS "instanceId", ID + '' AS "srcId" FROM STG_ALF_USERS WHERE INSTANCE_ID=${instanceId}
hsql;unitTestSwitchOffInstances;UPDATE "DWH_ALF_DIM_INSTANCES" SET IS_ACTIVE='1' WHERE IS_ACTIVE='Y'\;UPDATE "DWH_ALF_DIM_INSTANCES" SET IS_ACTIVE='0' WHERE IS_ACTIVE='N'\;
hsql;unitTestSwitchOnInstances;UPDATE "DWH_ALF_DIM_INSTANCES" SET IS_ACTIVE='Y' WHERE IS_ACTIVE='1'\;UPDATE "DWH_ALF_DIM_INSTANCES" SET IS_ACTIVE='N' WHERE IS_ACTIVE='0'\;
hsql;unitTest001InsertProperties;UPDATE "DWH_ALF_DIM_INSTANCES" SET IS_ACTIVE='Y' WHERE ID = 30001\;INSERT INTO "DWH_ALF_CLASSES" (ID,NAME,IS_FILE,IS_FOLDER,IS_ASPECT,IS_ROOT,OPE_TABLE_NAME,DWH_TABLE_NAME,ORDINAL,INSTANCE_ID,IS_ACTIVE) VALUES (30001,'cm:content','Y','N','N','Y','OPE_ALF_CONTENTS',null,1,30001,'Y')\;INSERT INTO "DWH_ALF_CLASSES" (ID,NAME,IS_FILE,IS_FOLDER,IS_ASPECT,IS_ROOT,OPE_TABLE_NAME,DWH_TABLE_NAME,ORDINAL,INSTANCE_ID,IS_ACTIVE) VALUES (30002,'cm:folder','N','Y','N','Y','OPE_ALF_FOLDERS',null,2,30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30001,'cm:node_type','d:text','N',null,null,'["nodeType"]','NODE_TYPE',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30002,'cm:name','d:text','N',null,null,'["name"]','NAME',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30003,'cm:created','d:datetime','N',null,null,'["createdAt"]','CREATED_AT',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30004,'cm:creator','d:text','N',null,null,'["createdByUser","id"]','CREATED_BY',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30005,'cm:modified','d:datetime','N',null,null,'["modifiedAt"]','MODIFIED_AT',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30006,'cm:modifier','d:text','N',null,null,'["modifiedByUser","id"]','MODIFIED_BY',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30007,'cm:owner','d:text','N',null,null,'["properties","cm:owner","id"]','OWNER',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30008,'mimeType','d:text','N',null,null,'["content","mimeType"]','MIME_TYPE',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30009,'sizeInBytes','d:int','N',null,null,'["content","sizeInBytes"]','SIZE_IN_BYTES',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30010,'cm:taggable','d:category','Y','OPE_ALF_CONTENT_TAGS',null,'["properties","cm:taggable"]','TAG_NODE_UUID',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30011,'cm:categories','d:category','Y','OPE_ALF_CONTENT_CATEGORIES',null,'["properties","cm:categories"]','CATEGORY_NODE_UUID',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30012,'primary_path','d:text','N',null,null,'["path","name"]','PRIMARY_PATH',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30013,'parent_id','d:text','N',null,null,'["parentId"]','PARENT_NODE_UUID',30001,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30014,'cm:node_type','d:text','N',null,null,'["nodeType"]','NODE_TYPE',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30015,'cm:name','d:text','N',null,null,'["name"]','NAME',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30016,'cm:created','d:datetime','N',null,null,'["createdAt"]','CREATED_AT',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30017,'cm:creator','d:text','N',null,null,'["createdByUser","id"]','CREATED_BY',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30018,'cm:modified','d:datetime','N',null,null,'["modifiedAt"]','MODIFIED_AT',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30019,'cm:modifier','d:text','N',null,null,'["modifiedByUser","id"]','MODIFIED_BY',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30020,'cm:owner','d:text','N',null,null,'["properties","cm:owner","id"]','OWNER',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30021,'cm:taggable','d:category','Y','OPE_ALF_FOLDER_TAGS',null,'["properties","cm:taggable"]','TAG_NODE_UUID',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30022,'cm:categories','d:category','Y','OPE_ALF_FOLDER_CATEGORIES',null,'["properties","cm:categories"]','CATEGORY_NODE_UUID',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30023,'primary_path','d:text','N',null,null,'["path","name"]','PRIMARY_PATH',30002,'Y')\;INSERT INTO "DWH_ALF_CLASS_PROPERTIES" (ID,NAME,TYPE,IS_MULTIVALUE,OPE_TABLE_NAME,DWH_TABLE_NAME,JSON_PATH,FIELD_NAME,CLASS_ID,IS_ACTIVE) VALUES (30024,'parent_id','d:text','N',null,null,'["parentId"]','PARENT_NODE_UUID',30002,'Y')\;
hsql;unitTest001DeleteProperties;DELETE FROM "DWH_ALF_CLASS_PROPERTIES" WHERE ID >= 30000\;DELETE FROM "DWH_ALF_CLASSES" WHERE ID >= 30000\;UPDATE "DWH_ALF_DIM_INSTANCES" SET IS_ACTIVE='N' WHERE ID = 30001\;


